<script>
    const viewer = new Cesium.Viewer('cesiumContainer', {
        imageryProvider: new Cesium.OpenStreetMapImageryProvider({
            url: 'https://a.tile.openstreetmap.org/'
        }),
        terrainProvider: Cesium.createWorldTerrain(),
        baseLayerPicker: false
    });

    // 1. THE GAP-FREE LAYER: Using NASA VIIRS instead of MODIS
    // VIIRS on Suomi NPP covers the orbital gaps much better
    const viirsLayer = viewer.imageryLayers.addImageryProvider(new Cesium.WebMapTileServiceImageryProvider({
        url: "https://gibs.earthdata.nasa.gov/wmts/epsg4326/best/wmts.cgi?Service=WMTS&Request=GetTile&Version=1.0.0&Layer=VIIRS_SNPP_CorrectedReflectance_TrueColor&TileMatrixSet=250m&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}&Style=default&Format=image/jpeg&Time=2025-12-30",
        layer: "VIIRS_SNPP_CorrectedReflectance_TrueColor",
        style: "default",
        format: "image/jpeg",
        tileMatrixSetID: "250m",
        maximumLevel: 8
    }));

    // 2. STACKING THE SECOND SATELLITE (Aqua) 
    // This acts as a backup to fill any tiny remaining holes
    const aquaLayer = viewer.imageryLayers.addImageryProvider(new Cesium.WebMapTileServiceImageryProvider({
        url: "https://gibs.earthdata.nasa.gov/wmts/epsg4326/best/wmts.cgi?Service=WMTS&Request=GetTile&Version=1.0.0&Layer=MODIS_Aqua_CorrectedReflectance_TrueColor&TileMatrixSet=250m&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}&Style=default&Format=image/jpeg&Time=2025-12-30",
        layer: "MODIS_Aqua_CorrectedReflectance_TrueColor",
        tileMatrixSetID: "250m"
    }));
    
    // Set them to blend so the "Gaps" disappear
    viirsLayer.alpha = 0.8;
    aquaLayer.alpha = 0.4;

    // 3. 3D BUILDINGS & CAMERA
    viewer.scene.primitives.add(Cesium.createOsmBuildings());
    viewer.scene.screenSpaceCameraController.enableLook = false;
    viewer.scene.screenSpaceCameraController.minimumZoomDistance = 2;

    viewer.camera.flyTo({
        destination: Cesium.Cartesian3.fromDegrees(-81.6231, 28.1136, 1500)
    });
</script>

